create database CustomerDetails;
use CustomerDetails;

-- Create ADDRESS_TB1 Table
CREATE TABLE ADDRESS_TB1 (
    ADDR_ID INT AUTO_INCREMENT PRIMARY KEY,
    ADDR_LINE1 VARCHAR(30),
    ADDR_LINE2 VARCHAR(30),
    ADDR_LINE3 VARCHAR(30),
    CITY VARCHAR(15),
    STATE VARCHAR(15)
);

-- Insert Dummy Data into ADDRESS_TB1
INSERT INTO ADDRESS_TB1 (ADDR_LINE1, ADDR_LINE2, ADDR_LINE3, CITY, STATE) 
VALUES 
('123 Main St', 'Apt 4B', 'ITC STOCK', 'CHENNAI', 'TAMIL NADU'),
('456 Elm St', 'Suite 12', 'ABC Towers', 'BANGALORE', 'KARNATAKA'),
('789 Oak St', 'Floor 3', 'DEF Plaza', 'MUMBAI', 'MAHARASHTRA'),
('321 Pine St', 'Block A', 'GHI Complex', 'HYDERABAD', 'TELANGANA'),
('654 Maple St', 'Villa 5', 'JKL Heights', 'DELHI', 'DELHI');


-- Create CUSTOMER_TB1 Table
CREATE TABLE CUSTOMER_TB1 (
    CUST_ID INT AUTO_INCREMENT PRIMARY KEY,
    CUST_NAME VARCHAR(20),
    PHONE VARCHAR(15),  -- Changed from BIGINT to VARCHAR(15)
    EMAIL VARCHAR(25),
    ADDR_ID INT,
    CONSTRAINT FK_CUSTOMER_ID FOREIGN KEY (ADDR_ID) REFERENCES ADDRESS_TB1 (ADDR_ID)
);

-- Insert Dummy Data into CUSTOMER_TB1
INSERT INTO CUSTOMER_TB1 (CUST_NAME, PHONE, EMAIL, ADDR_ID) 
VALUES 
('Varun', '8925173580', 'varun52@example.com', 1),
('Priya', '9876543210', 'priya90@example.com', 2),
('Rahul', '8765432109', 'rahul89@example.com', 3),
('Anjali', '7654321098', 'anjali78@example.com', 4),
('Rohit', '6543210987', 'rohit67@example.com', 5);


-- Create TRANSACTION_TB1 Table
CREATE TABLE TRANSACTION_TB1 (
    TRANS_ID INT AUTO_INCREMENT PRIMARY KEY,
    TRANS_DATE DATE,
    PRINCIPLE_AMOUNT BIGINT,
    RATE_OF_INTEREST DECIMAL(6,4), -- Fixed precision
    NO_OF_TENURE INT,
    INTEREST_AMT DECIMAL(12,2), -- Fixed precision
    TOTAL_AMT DECIMAL(12,2), -- Fixed precision
    CUST_ID INT,
    CONSTRAINT FK_TRANSACTION_ID FOREIGN KEY (CUST_ID) REFERENCES CUSTOMER_TB1 (CUST_ID)
);

-- Insert Dummy Data into TRANSACTION_TB1
INSERT INTO TRANSACTION_TB1 
(TRANS_DATE, PRINCIPLE_AMOUNT, RATE_OF_INTEREST, NO_OF_TENURE, INTEREST_AMT, TOTAL_AMT, CUST_ID) 
VALUES
('2024-03-01', 10000, 5.2500, 12, 525.00, 10525.00, 1),
('2024-03-05', 20000, 4.7500, 24, 1900.00, 21900.00, 2),
('2024-03-10', 15000, 6.0000, 18, 1350.00, 16350.00, 3),
('2024-03-15', 5000, 5.5000, 6, 165.00, 5165.00, 4),
('2024-03-20', 25000, 4.2500, 36, 3187.50, 28187.50, 5);

-- drop table ADDRESS_TB1;
-- drop table CUSTOMER_TB1;
-- drop table TRANSACTION_TB1;

select * from ADDRESS_TB1;
select * from  CUSTOMER_TB1;
select * from TRANSACTION_TB1;
